# MVP基本機能タスクリスト

EventPay Managerの最小限の価値を提供するために必要な基本機能の実装タスクです。

## 🔐 認証システム

### 幹事認証（Rails 8標準認証）
- [ ] **📝 ユーザー登録機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: メールアドレスとパスワードによる新規登録
  - 依存: なし
  - 注意点: Rails 8のhas_secure_passwordを使用

- [ ] **📝 ログイン/ログアウト機能**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: セッションベースの認証実装
  - 依存: ユーザー登録機能
  - 注意点: Remember me機能も実装

- [ ] **📝 パスワードリセット機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: メールによるパスワード再設定
  - 依存: メール送信機能
  - 注意点: トークンの有効期限設定

### 参加者認証（トークンベース）
- [ ] **📝 トークン生成・管理機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 共有URL用と編集URL用のトークン生成
  - 依存: なし
  - 注意点: 7日間の有効期限、暗号化保存

- [ ] **📝 トークン検証機能**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: アクセス時のトークン検証とエラーハンドリング
  - 依存: トークン生成機能
  - 注意点: 期限切れ時の適切なエラー表示

## 📅 イベント管理

- [ ] **📝 イベント作成機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: イベント基本情報（名前、日時、場所）の登録
  - 依存: 幹事認証
  - 注意点: バリデーション実装

- [ ] **📝 イベント一覧表示**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: ダッシュボードでの管理イベント一覧
  - 依存: イベント作成機能
  - 注意点: ページネーション実装

- [ ] **📝 イベント詳細表示**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 参加者一覧と支払い状況の表示
  - 依存: イベント作成機能、参加者管理
  - 注意点: N+1クエリ対策

- [ ] **📝 イベント編集・削除機能**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: イベント情報の更新と削除
  - 依存: イベント作成機能
  - 注意点: 削除時の関連データ処理

## 🍻 各回（ラウンド）管理

- [ ] **📝 ラウンド作成機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 1次会、2次会等の各回設定
  - 依存: イベント管理
  - 注意点: 金額、場所、時間の管理

- [ ] **📝 ラウンド編集・削除機能**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: 各回情報の更新と削除
  - 依存: ラウンド作成機能
  - 注意点: 参加状況との整合性

## 👥 参加者管理

- [ ] **📝 参加者登録機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 共有URLからの参加者情報登録
  - 依存: トークン認証、イベント管理
  - 注意点: 名前とメールアドレスのみ必須

- [ ] **📝 参加者一覧表示**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: イベント詳細での参加者リスト
  - 依存: 参加者登録機能
  - 注意点: ViewComponentで実装

- [ ] **📝 参加者情報編集機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 編集URLからの情報更新
  - 依存: 参加者登録機能、トークン認証
  - 注意点: 参加ラウンドの変更対応

- [ ] **📝 参加者削除機能**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: 幹事による参加者削除
  - 依存: 参加者管理
  - 注意点: 支払い済みの場合の処理

## 💰 支払い管理

- [ ] **📝 支払い状況管理機能**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 各回ごとの支払い状況の記録
  - 依存: 参加者管理、ラウンド管理
  - 注意点: 一括更新機能も実装

- [ ] **📝 支払い状況表示**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: バッジ形式での状況表示
  - 依存: 支払い状況管理機能
  - 注意点: ViewComponentで実装

- [ ] **📝 支払い集計機能**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: 各回の支払い合計額計算
  - 依存: 支払い状況管理機能
  - 注意点: キャッシュ活用

## 📧 通知機能

- [ ] **📝 メール送信基盤**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: SendGrid統合とメールテンプレート
  - 依存: なし
  - 注意点: 環境変数設定、エラーハンドリング

- [ ] **📝 参加登録完了メール**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: 編集URL付きの登録完了通知
  - 依存: メール送信基盤、参加者登録
  - 注意点: HTMLメールテンプレート

- [ ] **📝 リマインダーメール**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 未払い者への支払い催促
  - 依存: メール送信基盤、支払い管理
  - 注意点: 一括送信、送信履歴管理

## 🔗 URL管理

- [ ] **📝 共有URL生成機能**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: イベント参加用の共有URL
  - 依存: イベント管理、トークン生成
  - 注意点: QRコード生成も含む

- [ ] **📝 編集URL生成機能**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: 参加者情報編集用の個別URL
  - 依存: 参加者管理、トークン生成
  - 注意点: セキュアなトークン生成

## 🎨 UI/UX基本実装

- [ ] **📝 レスポンシブデザイン対応**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: モバイル・タブレット対応
  - 依存: 各画面実装
  - 注意点: Bootstrap 5活用

- [ ] **📝 エラー画面実装**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: 404、500等のエラー画面
  - 依存: なし
  - 注意点: ユーザーフレンドリーなデザイン

- [ ] **📝 フラッシュメッセージ実装**
  - 優先度: 🟡 Medium
  - 工数: S
  - 概要: 操作結果の通知表示
  - 依存: なし
  - 注意点: 自動消去機能

## 🔒 セキュリティ基本実装

- [ ] **📝 CSRF対策**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: Rails標準のCSRF保護
  - 依存: なし
  - 注意点: APIエンドポイントも考慮

- [ ] **📝 Strong Parameters実装**
  - 優先度: 🔴 High
  - 工数: S
  - 概要: 許可パラメータの設定
  - 依存: 各機能実装
  - 注意点: 全コントローラーで実装

- [ ] **📝 認可機能実装**
  - 優先度: 🔴 High
  - 工数: M
  - 概要: 幹事のみアクセス可能な機能の制御
  - 依存: 認証システム
  - 注意点: before_actionで実装

## 📊 進捗サマリー

| カテゴリ | 総タスク数 | 完了 | 進行中 | 未着手 |
|---------|-----------|------|--------|--------|
| 認証システム | 5 | 0 | 0 | 5 |
| イベント管理 | 4 | 0 | 0 | 4 |
| ラウンド管理 | 2 | 0 | 0 | 2 |
| 参加者管理 | 4 | 0 | 0 | 4 |
| 支払い管理 | 3 | 0 | 0 | 3 |
| 通知機能 | 3 | 0 | 0 | 3 |
| URL管理 | 2 | 0 | 0 | 2 |
| UI/UX基本 | 3 | 0 | 0 | 3 |
| セキュリティ | 3 | 0 | 0 | 3 |
| **合計** | **29** | **0** | **0** | **29** |

---

最終更新: 2025-08-09