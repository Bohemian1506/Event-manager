{
  "hooks": {
    "file_create": {
      "enabled": true,
      "triggers": [
        {
          "pattern": "app/controllers/**/*.rb",
          "action": "suggest_test_creation",
          "message": "コントローラーが作成されました。対応するテストファイルの作成を推奨します。"
        },
        {
          "pattern": "app/models/**/*.rb", 
          "action": "suggest_test_creation",
          "message": "モデルが作成されました。対応するテストファイルとバリデーションの確認を推奨します。"
        },
        {
          "pattern": "app/views/**/*.erb",
          "action": "suggest_system_test",
          "message": "ビューが作成されました。システムテストの作成を推奨します。"
        }
      ]
    },
    "file_edit": {
      "enabled": true,
      "triggers": [
        {
          "pattern": "**/*authentication*",
          "action": "security_review",
          "message": "認証関連のコードが変更されました。セキュリティレビューを実行しますか？",
          "auto_suggest": "/secaudit"
        },
        {
          "pattern": "**/*payment*",
          "action": "security_review", 
          "message": "決済関連のコードが変更されました。セキュリティレビューを実行しますか？",
          "auto_suggest": "/secaudit"
        },
        {
          "pattern": "config/**/*.rb",
          "action": "config_review",
          "message": "設定ファイルが変更されました。影響範囲の分析を推奨します。",
          "auto_suggest": "/analyze"
        },
        {
          "pattern": "**/*.rb",
          "action": "commit_reminder",
          "message": "💡 Rubyファイルが変更されました。実装完了後は 'npm run dev:commit' でコミットをお忘れなく！",
          "auto_suggest": "npm run dev:commit",
          "priority": "low",
          "delay": 10000,
          "show_once_per_session": true
        },
        {
          "pattern": "**/*.js",
          "action": "commit_reminder",
          "message": "💡 JavaScriptファイルが変更されました。実装完了後は 'npm run dev:commit' でコミットをお忘れなく！",
          "auto_suggest": "npm run dev:commit",
          "priority": "low",
          "delay": 10000,
          "show_once_per_session": true
        },
        {
          "pattern": "**/*.erb",
          "action": "commit_reminder",
          "message": "💡 ビューファイルが変更されました。実装完了後は 'npm run dev:commit' でコミットをお忘れなく！",
          "auto_suggest": "npm run dev:commit",
          "priority": "low",
          "delay": 10000,
          "show_once_per_session": true
        }
      ]
    },
    "commit": {
      "enabled": true,
      "triggers": [
        {
          "pattern": "^feat:|新機能",
          "action": "feature_review",
          "message": "新機能実装では複数AIによる設計検討が効果的です。/consensusで設計合意を形成しませんか？",
          "auto_suggest": "/consensus"
        },
        {
          "pattern": "^fix:|バグ|エラー",
          "action": "bug_analysis",
          "message": "複雑な問題の根本原因分析が必要です。/debugで詳細分析を実行しませんか？",
          "auto_suggest": "/debug"
        },
        {
          "pattern": "^refactor:",
          "action": "refactor_review",
          "message": "リファクタリングの最適な方針を検討します。/refactorで改善提案を実行しませんか？",
          "auto_suggest": "/refactor"
        }
      ]
    },
    "pre_push": {
      "enabled": true,
      "actions": [
        {
          "name": "quality_check",
          "message": "コミット前の品質チェックを実行します。/precommitで包括的なチェックを行いませんか？",
          "auto_suggest": "/precommit",
          "mandatory": true
        }
      ]
    },
    "task_completion": {
      "enabled": true,
      "triggers": [
        {
          "condition": "large_implementation",
          "action": "code_review",
          "message": "実装完了後のコードレビューが推奨されます。/codereviewで包括的なレビューを実行しますか？",
          "auto_suggest": "/codereview"
        },
        {
          "condition": "architecture_change",
          "action": "impact_analysis", 
          "message": "アーキテクチャ変更の影響分析を行います。/analyzeで詳細分析を実行しませんか？",
          "auto_suggest": "/analyze"
        },
        {
          "condition": "test_needed",
          "action": "test_generation",
          "message": "包括的なテストケース生成を行います。/testgenでテスト生成を実行しませんか？",
          "auto_suggest": "/testgen"
        }
      ]
    },
    "work_start": {
      "enabled": true,
      "auto_execute": true,
      "triggers": [
        {
          "condition": "session_start",
          "action": "work_preparation",
          "message": "🚀 EventPay Manager 作業開始の準備を行います",
          "command": "npm run work:start",
          "mandatory": true,
          "description": "mainブランチ最新化とブランチ作成を自動実行"
        },
        {
          "condition": "first_task",
          "action": "reminder",
          "message": "💡 作業開始時は 'npm run work:start' の実行を推奨します。git:update + dev:branch が自動実行されます。",
          "auto_suggest": "npm run work:start"
        }
      ]
    },
    "work_completion": {
      "enabled": true,
      "auto_suggest": true,
      "triggers": [
        {
          "condition": "files_modified",
          "action": "commit_suggestion",
          "message": "📝 ファイルが変更されました。作業完了時は 'npm run dev:commit' でコミットしませんか？",
          "auto_suggest": "npm run dev:commit",
          "description": "対話式コミット（ステージング・コミット・プッシュ）",
          "priority": "medium",
          "delay": 5000
        },
        {
          "condition": "implementation_complete",
          "action": "commit_prompt",
          "message": "✅ 実装が完了しました。変更をコミットしますか？\n\n🎯 推奨: 'npm run dev:commit' で対話式コミット\n📋 内容: ファイルステージング → コミットタイプ選択 → メッセージ入力 → 自動プッシュ",
          "auto_suggest": "npm run dev:commit",
          "mandatory": false,
          "show_options": true
        },
        {
          "condition": "task_finished",
          "action": "workflow_guidance",
          "message": "🎉 タスクが完了しました！次のステップ:\n\n1. 📝 'npm run dev:commit' - 変更をコミット\n2. 🔍 PR確認 - 自動作成されたPRをレビュー\n3. 🤖 '@claude' メンション - PRレビューを依頼",
          "auto_suggest": "npm run dev:commit",
          "show_next_steps": true
        }
      ]
    },
    "pr_creation": {
      "enabled": true,
      "auto_execute": true,
      "triggers": [
        {
          "condition": "pr_created",
          "action": "create_archive",
          "message": "📚 プルリクエストが作成されました。作業内容をアーカイブに保存しています...",
          "command": "npm run archive:create",
          "auto_execute": true,
          "description": "PR作成後の作業サマリー自動生成"
        }
      ]
    }
  },
  "user_preferences": {
    "auto_execute_mandatory": false,
    "show_suggestions": true,
    "suggestion_timeout": 10,
    "cost_conscious_mode": true,
    "preferred_models": {
      "quick_check": "gemini-flash",
      "detailed_analysis": "gemini-pro", 
      "logical_problems": "o3",
      "general_purpose": "auto"
    }
  },
  "notification_settings": {
    "hook_execution": {
      "enabled": true,
      "level": "info"
    },
    "suggestion_display": {
      "enabled": true,
      "format": "inline",
      "duration": 5000
    },
    "error_reporting": {
      "enabled": true,
      "level": "error"
    }
  }
}