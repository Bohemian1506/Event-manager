{
  "project": {
    "name": "EventPay Manager",
    "description": "飲み会の幹事負担を軽減する、参加者登録不要の出欠・精算管理アプリ",
    "type": "rails",
    "version": "8.0.0"
  },
  "automation": {
    "auto_pr_creation": {
      "enabled": true,
      "on_push": true,
      "draft_mode": true,
      "skip_patterns": ["[skip-pr]", "WIP:", "wip:"],
      "title_format": {
        "feature": "feat: {branch_name}",
        "fix": "fix: {branch_name}",
        "refactor": "refactor: {branch_name}",
        "default": "{commit_message}"
      }
    },
    "auto_branch_creation": {
      "enabled": true,
      "base_branch": "main",
      "naming_convention": "{type}/{description}",
      "types": ["feature", "fix", "refactor", "docs", "test", "chore"]
    },
    "quality_checks": {
      "pre_push": {
        "enabled": true,
        "rubocop": true,
        "rspec": true,
        "brakeman": true,
        "fail_on_error": true
      },
      "pre_commit": {
        "enabled": false,
        "lint_staged": false
      }
    }
  },
  "ai_integration": {
    "zen_mcp_server": {
      "enabled": true,
      "auto_suggest": true,
      "default_model": "gemini-flash",
      "cost_optimization": true,
      "suggestions": {
        "new_feature": "/consensus",
        "bug_fix": "/debug", 
        "security_code": "/secaudit",
        "pre_commit": "/precommit",
        "code_review": "/codereview",
        "refactoring": "/refactor",
        "testing": "/testgen"
      }
    }
  },
  "hooks": {
    "PostCommand": [
      {
        "matcher": "npm run dev:commit",
        "hooks": [
          {
            "type": "suggest",
            "message": "🚀 プルリクエスト作成\n\nコミット・プッシュが完了しました。\nClaude CodeがPR本文を自動生成してプルリクエストを作成します。\n\n実行する場合は「yes」または「y」と入力してください。",
            "command": "claude_create_pr"
          }
        ]
      }
    ],
    "PRMerged": [
      {
        "matcher": "main",
        "hooks": [
          {
            "type": "info",
            "message": "📝 アーカイブ自動生成\n\nプルリクエストがマージされました。GitHub Actionsにより作業サマリーが `docs/archives/` に自動保存されます。\n\n生成内容:\n- 作業概要とブランチ情報\n- 変更ファイル一覧\n- Git操作記録\n- 技術的成果"
          }
        ]
      }
    ],
    "WorkflowSuggestion": [
      {
        "matcher": "implementation_complete",
        "hooks": [
          {
            "type": "suggest",
            "message": "🚀 作業完了の提案\n\nファイルの変更が完了しました。作業を完了しますか？\n\n`npm run dev:commit` を実行して対話式コミット・プッシュを行い、自動的にプルリクエストを作成します。\n\n実行する場合は「yes」または「y」と入力してください。",
            "command": "npm run dev:commit"
          }
        ]
      },
      {
        "matcher": "file_changes_detected",
        "hooks": [
          {
            "type": "suggest",
            "message": "📝 変更ファイルが検出されました\n\n作業が完了している場合は、以下のコマンドで作業を完了できます：\n\n`npm run dev:commit`\n\n実行しますか？ (yes/y で実行)",
            "command": "npm run dev:commit"
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "startup",
        "hooks": [
          {
            "type": "command",
            "command": "npm run work:start"
          }
        ]
      }
    ]
  },
  "workflows": {
    "github_actions": {
      "auto_pr_workflow": ".github/workflows/auto-pr.yml",
      "auto_branch_workflow": ".github/workflows/auto-branch.yml",
      "ci_workflow": ".github/workflows/ci.yml",
      "claude_assistant": ".github/workflows/claude.yml"
    }
  },
  "development": {
    "docker": {
      "enabled": true,
      "compose_file": "docker-compose.yml",
      "services": ["web", "db"]
    },
    "ruby_version": "3.3.6",
    "rails_version": "8.0.0",
    "database": "postgresql",
    "css_framework": "bootstrap",
    "js_framework": "stimulus",
    "work_start": {
      "enabled": true,
      "auto_execute": true,
      "command": "npm run work:start",
      "description": "作業開始時の自動化: git:update + dev:branch",
      "prompt_user": true,
      "show_help": true
    },
    "work_completion": {
      "enabled": true,
      "auto_suggest": true,
      "command": "npm run dev:commit",
      "description": "作業完了時の自動化: 対話式コミット・プッシュ",
      "triggers": {
        "file_changes": true,
        "implementation_complete": true,
        "task_finished": true
      },
      "suggestion_delay": 5000,
      "show_workflow_guidance": true
    }
  }
}